let registered_element;document.getElementById("search_element").onkeyup=delay;let focusel,isProductionEnv="localhost"!==top.location.hostname,origin_suffix="/S1000D_v5.0_web",originWeb=isProductionEnv?top.location.origin+origin_suffix:top.location.origin,count=1,maxLimit=5,asc=!0,resultContainer=document.getElementById("result-container"),caseSentitive=!1,tocIframe=document.querySelector('iframe[name="toc"]'),contentIframe=document.querySelector('iframe[name="content"]');window.addEventListener("load",()=>{[...document.getElementsByTagName("iframe")].forEach(e=>{e.contentDocument.addEventListener("click",e=>{e.target.classList.contains("search-container")||(focusel=void 0,hide_result_display())})})}),document.getElementById("search_element").onclick=show_result_display,document.getElementById("search_button").onclick=e=>search(document.getElementById("search_element").value),fetch(originWeb+"/elements/registered_elements.json").then(e=>e.json()).then(e=>registered_element=e);let to=0;function delay(e){if(clearTimeout(to),focusel=e.target,13===searchKeyAnalyzer(e)){let t=e.target.value;to=setTimeout(search.bind(null,t),300)}}function reset_count(){count=1}function search(e){reset_count();let t=engine(e);t.length&&(remove_result_display(),install_result_display(t),show_result_display())}function install_result_display(e){remove_result_display(),e.forEach(e=>{let t=document.createElement("a");t.href=`${originWeb}/elements/${e}.xml`,t.innerText=e,t.setAttribute("class","result-item"),t.onkeydown=keyAnalizer,t.onclick=clickResult,resultContainer.appendChild(t)})}function remove_result_display(){resultContainer.innerHTML=""}function hide_result_display(){resultContainer.style.display="none"}function show_result_display(){resultContainer.style.display="block"}function engine(e){result=[],top.regEl=registered_element,asc||(registered_element=registered_element.reverse());let t=0;if(registered_element.includes(e))result.push(e),count++;else for(;t<registered_element.length;){let n=registered_element[t];if(caseSentitive||(n=n.toLowerCase(),e=e.toLowerCase()),n.includes(e)&&(result.push(registered_element[t]),count++),count>maxLimit)break;t++}return result}function searchKeyAnalyzer(e){switch(e.keyCode){case 40:scrollDown();break;case 38:scrollUp();break;case 27:hide_result_display();break;default:return 13}}function keyAnalizer(e){switch(e.keyCode){case 40:scrollDown();break;case 38:scrollUp();break;case 191:inputFocus();break;case 13:e.preventDefault(),openElement(e.target.href)}}function clickResult(e){e.preventDefault(),openElement(e.target.closest("a").href)}function inputFocus(){setBorder(focusel,0),focusel=document.getElementById("search_element"),focusel.focus(),show_result_display()}function scrollDown(){"INPUT"===focusel.tagName?resultContainer.firstElementChild&&(focusel=resultContainer.firstElementChild,setBorder(focusel,1)):(setBorder(focusel,0),focusel=focusel.nextElementSibling?focusel.nextElementSibling:resultContainer.firstElementChild,setBorder(focusel,1)),focusel.focus()}function scrollUp(){"INPUT"===focusel.tagName?resultContainer.firstElementChild&&(focusel=resultContainer.lastElementChild):(setBorder(focusel,0),focusel=focusel.previousElementSibling?focusel.previousElementSibling:resultContainer.lastElementChild,setBorder(focusel,1)),focusel.focus()}function setBorder(e,t){e.style.backgroundColor=t?"rgb(129,190,247)":"unset"}function openElement(e){tocIframe.src!=originWeb+"/toc/tocElem.xml"&&(tocIframe.src=originWeb+"/toc/tocElem.xml"),contentIframe.src=e,hide_result_display()}